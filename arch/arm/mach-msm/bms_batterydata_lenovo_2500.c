#include <linux/batterydata-lib.h>

static struct single_row_lut fcc_temp = {
	.x		= {-20, 0, 25, 40, 60},
	.y		= {2507, 2512, 2519, 2518, 2511},
	.cols	= 5
};

static struct single_row_lut fcc_sf = {
	.x		= {0},
	.y		= {100},
	.cols	= 1
};

static struct sf_lut rbatt_sf = {
	.rows		= 31,
	.cols		= 5,
	.row_entries		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.sf		= {
				{1035, 279, 100, 82, 75},
				{1038, 279, 100, 82, 75},
				{1041, 285, 103, 84, 77},
				{1038, 291, 107, 87, 78},
				{1032, 294, 112, 90, 80},
				{1000, 292, 119, 94, 83},
				{999, 278, 126, 99, 86},
				{1006, 271, 133, 105, 90},
				{1015, 268, 116, 105, 93},
				{1044, 269, 103, 85, 77},
				{1071, 271, 104, 86, 78},
				{1115, 277, 107, 90, 81},
				{1157, 280, 111, 93, 84},
				{1215, 290, 115, 94, 86},
				{1287, 303, 117, 93, 82},
				{1373, 313, 113, 90, 81},
				{1477, 338, 113, 90, 80},
				{1578, 384, 112, 88, 80},
				{1701, 428, 111, 86, 78},
				{1685, 436, 115, 90, 80},
				{1615, 426, 117, 91, 81},
				{1772, 437, 121, 93, 83},
				{1983, 448, 125, 96, 86},
				{2296, 470, 130, 98, 88},
				{2716, 493, 133, 96, 84},
				{3284, 521, 132, 92, 81},
				{3996, 552, 130, 94, 84},
				{5005, 588, 132, 98, 87},
				{6681, 632, 144, 109, 99},
				{9790, 1367, 316, 178, 149},
				{33811, 25059, 8650, 5778, 3719}
	}
};
#if 0
static struct sf_lut r1batt = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.r1		= {
				{415, 232, 110, 97, 93},
				{416, 232, 110, 97, 93},
				{416, 232, 110, 97, 94},
				{427, 228, 110, 97, 94},
				{421, 226, 110, 97, 94},
				{429, 228, 110, 98, 94},
				{411, 229, 111, 98, 95},
				{412, 231, 111, 98, 95},
				{419, 226, 112, 99, 95},
				{409, 229, 112, 99, 95},
				{409, 232, 113, 99, 96},
				{415, 230, 114, 100, 96},
				{404, 234, 115, 100, 96},
				{417, 233, 116, 101, 96},
				{414, 234, 118, 102, 97},
				{422, 236, 119, 102, 97},
				{416, 237, 120, 103, 97},
				{419, 238, 122, 103, 98},
				{425, 242, 123, 104, 98},
				{423, 239, 124, 104, 98},
				{416, 241, 124, 104, 98},
				{421, 241, 124, 104, 98},
				{434, 243, 125, 105, 98},
				{449, 241, 125, 104, 98},
				{447, 243, 126, 104, 99},
				{473, 245, 127, 105, 99},
				{482, 245, 128, 106, 100},
				{485, 247, 130, 107, 100},
				{476, 247, 133, 108, 101},
				{471, 256, 138, 111, 103},
				{466, 284, 228, 199, 175}
	}
};

static struct sf_lut r2batt = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.r2		= {
				{1159, 193, 42, 28, 22},
				{1163, 193, 42, 28, 22},
				{1167, 202, 48, 32, 24},
				{1152, 215, 54, 36, 26},
				{1148, 221, 61, 41, 29},
				{1092, 217, 71, 46, 33},
				{1108, 194, 81, 53, 37},
				{1118, 182, 92, 63, 42},
				{1125, 182, 65, 61, 47},
				{1178, 180, 46, 31, 23},
				{1219, 181, 46, 32, 24},
				{1280, 192, 49, 37, 28},
				{1356, 193, 54, 42, 32},
				{1431, 208, 59, 43, 35},
				{1543, 227, 61, 40, 28},
				{1666, 241, 54, 36, 27},
				{1830, 277, 53, 35, 26},
				{1980, 346, 49, 32, 24},
				{2162, 410, 46, 28, 22},
				{2139, 425, 51, 33, 24},
				{2039, 407, 54, 35, 26},
				{2273, 424, 60, 38, 29},
				{2581, 439, 66, 42, 33},
				{3041, 474, 73, 46, 36},
				{3682, 507, 77, 43, 29},
				{4519, 548, 75, 36, 25},
				{5592, 595, 70, 38, 28},
				{7123, 647, 72, 43, 33},
				{9680, 715, 87, 59, 50},
				{14411, 1822, 343, 160, 124},
				{50928, 37807, 12921, 8584, 5479}
	}
};
#endif
static struct pc_temp_ocv_lut pc_temp_ocv = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.ocv		= {
				{4323, 4311, 4318, 4313, 4306},
				{4222, 4242, 4251, 4249, 4245},
				{4152, 4185, 4196, 4194, 4191},
				{4090, 4131, 4142, 4141, 4138},
				{4032, 4077, 4091, 4090, 4087},
				{3965, 4023, 4044, 4043, 4040},
				{3918, 3966, 3999, 3999, 3996},
				{3877, 3923, 3957, 3959, 3956},
				{3843, 3885, 3905, 3913, 3913},
				{3820, 3853, 3864, 3865, 3865},
				{3802, 3826, 3837, 3838, 3837},
				{3785, 3803, 3814, 3815, 3815},
				{3769, 3781, 3795, 3796, 3795},
				{3751, 3764, 3779, 3779, 3778},
				{3733, 3748, 3765, 3762, 3755},
				{3711, 3727, 3747, 3744, 3732},
				{3685, 3707, 3721, 3720, 3708},
				{3655, 3694, 3693, 3691, 3679},
				{3626, 3683, 3683, 3675, 3664},
				{3599, 3673, 3680, 3673, 3662},
				{3583, 3665, 3678, 3672, 3660},
				{3563, 3651, 3676, 3670, 3659},
				{3536, 3632, 3673, 3668, 3656},
				{3506, 3611, 3667, 3663, 3649},
				{3473, 3587, 3651, 3646, 3629},
				{3445, 3561, 3618, 3609, 3590},
				{3412, 3528, 3571, 3558, 3538},
				{3377, 3482, 3506, 3493, 3473},
				{3330, 3408, 3417, 3406, 3388},
				{3259, 3279, 3288, 3281, 3263},
				{3000, 3000, 3000, 3000, 3000}
	}
};
#if 0
static struct pc_sf_lut pc_sf = {
	.rows		= 1,
	.cols		= 1,
	.cycles		= {0},
	.percent	= {100},
	.sf			= {
				{100}
	}
};
#endif
struct bms_battery_data lenovo_2500_data = {
	.fcc				= 2500,
	.fcc_temp_lut			= &fcc_temp,
	.fcc_sf_lut				= &fcc_sf,
	.pc_temp_ocv_lut		= &pc_temp_ocv,
//	.pc_sf_lut				= &pc_sf,
	.rbatt_sf_lut			= &rbatt_sf,
	.default_rbatt_mohm	= 152,
	.flat_ocv_threshold_uv	= 3800000,
};
